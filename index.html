<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  
  <title>Frontend Mentor | Intro component with sign up form</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="reset.css">
</head>
<body>
  <main>
    <div class="content-container">
      <h1 class="title">Learn to code by watching others</h1>
      <p class="description">See how experienced developers solve problems in real-time. Watching scripted tutorials is great, 
        but understanding how developers think is invaluable. </p>
    </div>

    <div class="sign-up-container">
      <div class="trial-container">
        <p class="trial-text"><span class="trial-bold">Try it free 7 days </span>then $20/mo. thereafter</p>
      </div>
      <div class="form-container">
        <form id="form" action="#">
          <input class="input-box" data-input-type="name" type="text" placeholder="First Name" name="name" id="name">
          <p class="error-message" data-input-type="name"><i>First Name cannot be empty</i><img data-input-type="name" class="error-icon" src="./images/icon-error.svg" alt=""></p>
          
          <input class="input-box" data-input-type="last-name"type="text" placeholder="Last Name" name="last-name" id="last-name">
          <p class="error-message" data-input-type="last-name"><i>Last Name cannot be empty</i><img data-input-type="last-name" class="error-icon" src="./images/icon-error.svg" alt=""></p>
          
          <input class="input-box" data-input-type="email" type="email" placeholder="Email Address" name="email" id="email">
          <p class="error-message" data-input-type="email"><i>Looks like this is not an email</i><img data-input-type="email" class="error-icon" src="./images/icon-error.svg" alt=""></p>
          
          <input class="input-box" data-input-type="password" type="password" placeholder="Password" name="password" id="password">
          <p class="error-message" data-input-type="password"><i>Password cannot be empty</i><img data-input-type="password" class="error-icon" src="./images/icon-error.svg" alt=""></p>
          
          <button class="btn-submit" type="submit">
            Claim your free trial 
          </button>
          <div class="terms-container">
            <p class="terms-text">By clicking the button, you are agreeing to our <a href="#" class="terms-accent">Terms and Services</a></p>
          </div>
        </form>
      </div>
      
    </div>

  </main>
  <script>
    var inputBox = document.querySelectorAll(".input-box");
    var form = document.querySelector("#form");
    var errorMessage = document.querySelectorAll(".error-message");
    var errorIcon = document.querySelectorAll(".error-icon");

    form.addEventListener("submit", function(e) {
      var nameInputValue = document.querySelector("#name").value;
      var lastNameInputValue = document.querySelector("#last-name").value;
      var emailInputValue = document.querySelector("#email").value;
      var passwordInputValue = document.querySelector("#password").value;
      if( /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(emailInputValue) != true
        || nameInputValue == "" || lastNameInputValue == "" || passwordInputValue == "") {
          e.preventDefault();
          inputBox.forEach(inputElement => {
            if(inputElement.value == ""){
              inputElement.style.borderColor = "var(--clr-pr-red)";

              errorMessage.forEach(msgElement => {
                if(msgElement.dataset.inputType == inputElement.dataset.inputType){
                  msgElement.style.display = "block";
                }
              });

              errorIcon.forEach(iconElement => {
                if(iconElement.dataset.inputType == inputElement.dataset.inputType){
                  iconElement.style.display = "block";
                }
                
              });
            }
            else{
              inputElement.style.borderColor = "hsl(0, 0%, 87%)";
              errorMessage.forEach(msgElement => {
                if(msgElement.dataset.inputType == inputElement.dataset.inputType){
                  msgElement.style.display = "none";
                }
              });
              errorIcon.forEach(iconElement => {
                if(iconElement.dataset.inputType == inputElement.dataset.inputType){
                  iconElement.style.display = "none";
                }
              });
            }
          });
      } 
      else {
        errorMessage.forEach(element => {
            element.style.display = "none";
        });
        errorIcon.forEach(element => {
            element.style.display = "none";
        });
        inputBox.forEach(inputElement => {
          inputElement.style.borderColor = "hsl(0, 0%, 87%)";
        })
      }
    })
  </script>
</body>
</html>